<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/header') %>
    <title>Profile</title>
</head>
<body>
    <%- include('../partials/nav') %>
<button class="absolute rounded-full w-10 h-10 shadow-xl hover:shadow-inner flex justify-center items-center top-[100px] left-[40px]"><a href="javascript:history.back()" ><span class="material-symbols-outlined"> arrow_back </span></a></button>

    <div class="w-full mt-9 mb-8">
        <!-- user details -->
        <div class="w-lvw flex flex-col items-center">
            <div class="w-40 h-40 rounded-full overflow-hidden border-2">
                <img id="profile-display" src="<%= searchProfile.profilePic %>" alt="profile pic" class="w-full h-full object-cover">
            </div>
            <h3 class="mt-2 text-2xl"><%= searchProfile.fullname %></h3>
            <p class="mt-2 text-sm">@<%= searchProfile.username %></p>
        </div>

        <div id="save-div" class="">
            <!-- user boards -->
            <div class="mt-5 px-4">
                <div class="flex flex-row items-center gap-3">
                    <p class="text-2xl font-semibold">Public Boards</p>
                    <div class="border-b flex-grow mx-2 h-0"></div>
                </div>
            </div>
    
            <!-- saved boards -->
    
            <div class="mt-5 w-full flex px-8 gap-6">
                <% searchProfile.boards.forEach(board => { %>
                    <% if (board.pins.length > 0) { %>
                        <a href="/board/view/<%= board._id %>">
                            <div class="flex flex-col items-center">
                                <div class="rounded-lg overflow-hidden">
                                    <div class="w-36 h-36 overflow-hidden">
                                        <% board.pins[0].image %>
                                        <img src="<%= board.pins[0].image%>" alt="board cover" class="w-full h-full object-cover" >
                                    </div>
                                </div>
                                <p><%= board.title %></p>
                            </div>
                        </a>
                    <% } %>
                <% }) %>
            </div>
    
            <!-- saved pins -->
    
        <div id="create-div" class="">
            <div class="mt-5 px-4">
                <div class="flex flex-row items-center gap-2">
                    <p class="text-2xl font-semibold whitespace-normal max-w-none">Created Pins </p>
                    <div class="border-b flex-grow mx-2 h-0"></div>
                </div>
            </div>
            <div class="w-full justify-center flex flex-wrap gap-5">
                <div class="p-5 sm:p-8">
                    <div class="columns-1 gap-2 sm:columns-2 sm:gap-4 md:columns-4 lg:columns-7 [&>div:not(:first-child)]:mt-4">
                        <% searchProfile.pins.forEach(pin => { %>
                            <div class="h-auto rounded-3xl overflow-hidden">
                                <!-- <div class="w-full h-full z-10 opacity-30"></div> -->
                                <a href="/pin/<%= pin._id %>"><img src="<%= pin.image %>" class=" w-full h-full object-cover" alt="pin"></a>
                            </div>
                        <% }) %>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // $('#create-btn').click(() => {
        //     $('#create-div').removeClass('hidden');
        //     $('#save-div').addClass('hidden');
        // })

        // $('#save-btn').click(() => {
        //     $('#create-div').addClass('hidden');
        //     $('#save-div').removeClass('hidden');
        // })
    </script>
</body>
</html>